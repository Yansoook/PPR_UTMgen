<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UTM-Генератор | PetrolPlus</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>

<div class="app-container">

  <!-- Шапка с логотипом -->
  <div class="header">
    <img 
      src="https://www.petrolplus.ru/assets/47e3d030-1ac8-48ad-85fe-facdd41c087e/logo-white.svg"
      alt="PetrolPlus" 
      class="logo"
      loading="lazy"
    >
    <h1>UTM-Генератор для маркетинга</h1>
  </div>

  <!-- Вкладки -->
  <div class="tabs">
    <div class="tab active" onclick="switchTab('main')">Главная</div>
    <div class="tab" onclick="switchTab('history')">Созданные ссылки</div>
  </div>

  <!-- Основной контент -->
  <div class="content">

    <!-- Вкладка: Генератор -->
    <div id="main" class="tab-content active">
      <h2>Генератор UTM-меток</h2>

      <label>Исходная ссылка:</label>
      <input type="url" id="urlInput" placeholder="https://my.petrolplus.ru/services/taksi" />

      <label>Канал (utm_source):</label>
      <select id="source">
        <option value="banner">Баннер</option>
        <option value="email">Email</option>
        <option value="push">Push-уведомление</option>
        <option value="whatsapp">WhatsApp</option>
        <option value="social">Соцсети</option>
        <option value="cpc">Контекстная реклама</option>
      </select>

      <label>Цель (utm_campaign):</label>
      <input type="text" id="campaign" placeholder="taksi, soputka, moika, dostavka и т.д." />

      <button onclick="generateUTM()">Сгенерировать</button>
      <button onclick="copyToClipboard()" disabled id="copyBtn">Копировать ссылку</button>

      <p id="result"></p>
    </div>

    <!-- Вкладка: История -->
    <div id="history" class="tab-content">
      <h2>Созданные ссылки</h2>

      <div class="bulk-actions" id="bulkActions" style="display: none;">
        <div class="bulk-buttons">
          <button type="button" onclick="selectAll()" class="text-btn">Выбрать всё</button>
          <button type="button" onclick="deselectAll()" class="text-btn">Снять выделение</button>
          <button type="button" onclick="deleteSelected()" class="text-btn text-btn-danger">Удалить выбранные</button>
        </div>
        <button type="button" onclick="downloadSelected()" class="text-btn">Скачать выбранные (.txt)</button>
      </div>

      <div id="historyList">
        <!-- Сюда будут подгружаться ссылки -->
      </div>
    </div>

  </div>

  <!-- Подвал -->
  <footer class="footer">
    <div class="footer-content">
      <div>
        <p>© Малюга Иван, 2025</p>
        <p>менеджер проектов</p>
      </div>
      <p>Отдел маркетинговых исследований и клиентских коммуникаций</p>
    </div>
  </footer>

</div>

<script src="script.js"></script>
</body>
</html>
